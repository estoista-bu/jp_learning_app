studio-7270297433:~/studio{master}$ npm test > test_output.txt
FAIL src/app/page.test.tsx
  ● Home Page › should switch to the Grammar tab when clicked

    TestingLibraryElementError: Unable to find an element by: [data-testid="grammar-guide"]

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="flex justify-center items-start min-h-screen bg-gray-100 dark:bg-gray-800"
        >
          <div
            class="w-full max-w-sm h-screen bg-background flex flex-col pt-[env(safe-area-inset-top)]"
          >
            <header
              class="flex flex-col p-4 border-b"
            >
              <h1
                class="font-headline text-xl font-bold text-primary text-center"
              >
                Nihongo Mastery
              </h1>
              <div
                class="mt-4"
              >
                <div
                  data-orientation="horizontal"
                  dir="ltr"
                >
                  <div
                    aria-orientation="horizontal"
                    class="h-10 items-center justify-center rounded-md text-muted-foreground grid w-full grid-cols-2 bg-transparent p-0"
                    data-orientation="horizontal"
                    role="tablist"
                    style="outline: none;"
                    tabindex="0"
                  >
                    <button
                      aria-controls="radix-:r6:-content-vocabulary"
                      aria-selected="true"
                      class="inline-flex items-center justify-center whitespace-nowrap px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none"
                      data-orientation="horizontal"
                      data-radix-collection-item=""
                      data-state="active"
                      id="radix-:r6:-trigger-vocabulary"
                      role="tab"
                      tabindex="-1"
                      type="button"
                    >
                      <svg
                        class="lucide lucide-book-open mr-2 h-4 w-4"
                        fill="none"
                        height="24"
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                        width="24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12 7v14"
                        />
                        <path
                          d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"
                        />
                      </svg>
                      Vocabulary
                    </button>
                    <button
                      aria-controls="radix-:r6:-content-grammar"
                      aria-selected="false"
                      class="inline-flex items-center justify-center whitespace-nowrap px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none"
                      data-orientation="horizontal"
                      data-radix-collection-item=""
                      data-state="inactive"
                      id="radix-:r6:-trigger-grammar"
                      role="tab"
                      tabindex="-1"
                      type="button"
                    >
                      <svg
                        class="lucide lucide-milestone mr-2 h-4 w-4"
                        fill="none"
                        height="24"
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                        width="24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12 13v8"
                        />
                        <path
                          d="M12 3v3"
                        />
                        <path
                          d="M4 6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h13a2 2 0 0 0 1.152-.365l3.424-2.317a1 1 0 0 0 0-1.635l-3.424-2.318A2 2 0 0 0 17 6z"
                        />
                      </svg>
                      Grammar
                    </button>
                  </div>
                </div>
              </div>
            </header>
            <main
              class="flex-1 flex flex-col overflow-y-auto"
            >
              <div
                data-testid="vocabulary-manager"
              >
                Vocabulary Content
              </div>
            </main>
          </div>
        </div>
      </div>
    </body>

      48 |
      49 |     // After clicking, the GrammarGuide should be visible and VocabularyManager should not
    > 50 |     expect(screen.getByTestId('grammar-guide')).toBeVisible();
         |                   ^
      51 |     expect(screen.queryByTestId('vocabulary-manager')).not.toBeInTheDocument();
      52 |   });
      53 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByTestId (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/app/page.test.tsx:50:19)

  ● Home Page › should switch back to the Vocabulary tab after viewing Grammar

    TestingLibraryElementError: Unable to find an element by: [data-testid="grammar-guide"]

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="flex justify-center items-start min-h-screen bg-gray-100 dark:bg-gray-800"
        >
          <div
            class="w-full max-w-sm h-screen bg-background flex flex-col pt-[env(safe-area-inset-top)]"
          >
            <header
              class="flex flex-col p-4 border-b"
            >
              <h1
                class="font-headline text-xl font-bold text-primary text-center"
              >
                Nihongo Mastery
              </h1>
              <div
                class="mt-4"
              >
                <div
                  data-orientation="horizontal"
                  dir="ltr"
                >
                  <div
                    aria-orientation="horizontal"
                    class="h-10 items-center justify-center rounded-md text-muted-foreground grid w-full grid-cols-2 bg-transparent p-0"
                    data-orientation="horizontal"
                    role="tablist"
                    style="outline: none;"
                    tabindex="0"
                  >
                    <button
                      aria-controls="radix-:r9:-content-vocabulary"
                      aria-selected="true"
                      class="inline-flex items-center justify-center whitespace-nowrap px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none"
                      data-orientation="horizontal"
                      data-radix-collection-item=""
                      data-state="active"
                      id="radix-:r9:-trigger-vocabulary"
                      role="tab"
                      tabindex="-1"
                      type="button"
                    >
                      <svg
                        class="lucide lucide-book-open mr-2 h-4 w-4"
                        fill="none"
                        height="24"
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                        width="24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12 7v14"
                        />
                        <path
                          d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"
                        />
                      </svg>
                      Vocabulary
                    </button>
                    <button
                      aria-controls="radix-:r9:-content-grammar"
                      aria-selected="false"
                      class="inline-flex items-center justify-center whitespace-nowrap px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none"
                      data-orientation="horizontal"
                      data-radix-collection-item=""
                      data-state="inactive"
                      id="radix-:r9:-trigger-grammar"
                      role="tab"
                      tabindex="-1"
                      type="button"
                    >
                      <svg
                        class="lucide lucide-milestone mr-2 h-4 w-4"
                        fill="none"
                        height="24"
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                        width="24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12 13v8"
                        />
                        <path
                          d="M12 3v3"
                        />
                        <path
                          d="M4 6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h13a2 2 0 0 0 1.152-.365l3.424-2.317a1 1 0 0 0 0-1.635l-3.424-2.318A2 2 0 0 0 17 6z"
                        />
                      </svg>
                      Grammar
                    </button>
                  </div>
                </div>
              </div>
            </header>
            <main
              class="flex-1 flex flex-col overflow-y-auto"
            >
              <div
                data-testid="vocabulary-manager"
              >
                Vocabulary Content
              </div>
            </main>
          </div>
        </div>
      </div>
    </body>

      63 |     const grammarTab = screen.getByRole('tab', { name: /Grammar/i });
      64 |     fireEvent.click(grammarTab);
    > 65 |     expect(screen.getByTestId('grammar-guide')).toBeVisible();
         |                   ^
      66 |
      67 |     // Switch back to Vocabulary
      68 |     const vocabularyTab = screen.getByRole('tab', { name: /Vocabulary/i });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByTestId (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/app/page.test.tsx:65:19)

FAIL src/components/flashcard.test.tsx
  ● Flashcard Component › renders the front of the card with the Japanese word

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <p class="font-body text-3xl font-semibold text-accent">にほんご</p> instead

      50 |     );
      51 |     expect(screen.getByText(mockWord.japanese)).toBeInTheDocument();
    > 52 |     expect(screen.queryByText(mockWord.reading)).not.toBeInTheDocument();
         |                                                      ^
      53 |     expect(screen.queryByText(mockWord.meaning)).not.toBeInTheDocument();
      54 |   });
      55 |

      at Object.<anonymous> (src/components/flashcard.test.tsx:52:54)

  ● Flashcard Component › shows edit and remove buttons

    TestingLibraryElementError: Found multiple elements with the text of: Edit 日本語

    Here are the matching elements:

    Ignored nodes: comments, script, style
    <button
      aria-label="Edit 日本語"
      class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-8 w-8 text-muted-foreground hover:text-foreground"
    >
      <svg
        class="lucide lucide-pencil h-4 w-4"
        fill="none"
        height="24"
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        viewBox="0 0 24 24"
        width="24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"
        />
        <path
          d="m15 5 4 4"
        />
      </svg>
    </button>

    Ignored nodes: comments, script, style
    <button
      aria-label="Edit 日本語"
      class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-8 w-8 text-muted-foreground hover:text-foreground"
    >
      <svg
        class="lucide lucide-pencil h-4 w-4"
        fill="none"
        height="24"
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        viewBox="0 0 24 24"
        width="24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"
        />
        <path
          d="m15 5 4 4"
        />
      </svg>
    </button>

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          aria-label="Flashcard for 日本語. Click to flip."
          class="group w-full h-full [perspective:1000px] cursor-pointer"
          role="button"
        >
          <div
            class="relative w-full h-full transition-transform duration-700 ease-in-out [transform-style:preserve-3d]"
          >
            <div
              class="rounded-lg border bg-card text-card-foreground shadow-sm absolute w-full h-full [backface-visibility:hidden] flex items-center justify-center overflow-hidden"
            >
              <div
                class="absolute top-2 right-2 z-20 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity"
              >
                <button
                  aria-label="Edit 日本語"
                  class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-8 w-8 text-muted-foreground hover:text-foreground"
                >
                  <svg
                    class="lucide lucide-pencil h-4 w-4"
                    fill="none"
                    height="24"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    viewBox="0 0 24 24"
                    width="24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"
                    />
                    <path
                      d="m15 5 4 4"
                    />
                  </svg>
                </button>
                <button
                  aria-controls="radix-:ri:"
                  aria-expanded="false"
                  aria-haspopup="dialog"
                  aria-label="Remove 日本語"
                  class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-8 w-8 text-muted-foreground hover:text-destructive"
                  data-state="closed"
                  type="button"
                >
                  <svg
                    class="lucide lucide-x h-4 w-4"
                    fill="none"
                    height="24"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    viewBox="0 0 24 24"
                    width="24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M18 6 6 18"
                    />
                    <path
                      d="m6 6 12 12"
                    />
                  </svg>
                </button>
              </div>
              <div
                class="p-4 flex items-center justify-center"
              >
                <p
                  class="font-headline text-center text-primary drop-shadow-sm break-words text-5xl"
                >
                  日本語
                </p>
              </div>
            </div>
            <div
              class="rounded-lg border bg-card text-card-foreground shadow-sm absolute w-full h-full [backface-visibility:hidden] [transform:rotateY(180deg)] flex flex-col items-center justify-center overflow-hidden"
            >
              <div
                class="absolute top-2 right-2 z-20 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity"
              >
                <button
                  aria-label="Edit 日本語"
                  class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-8 w-8 text-muted-foreground hover:text-foreground"
                >
                  <svg
                    class="lucide lucide-pencil h-4 w-4"
                    fill="none"
                    height="24"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    viewBox="0 0 24 24"
                    width="24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"
                    />
                    <path
                      d="m15 5 4 4"
                    />
                  </svg>
                </button>
                <button
                  aria-controls="radix-:rl:"
                  aria-expanded="false"
                  aria-haspopup="dialog"
                  aria-label="Remove 日本語"
                  class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-8 w-8 text-muted-foreground hover:text-destructive"
                  data-state="closed"
                  type="button"
                >
                  <svg
                    class="lucide lucide-x h-4 w-4"
                    fill="none"
                    height="24"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    viewBox="0 0 24 24"
                    width="24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M18 6 6 18"
                    />
                    <path
                      d="m6 6 12 12"
                    />
                  </svg>
                </button>
              </div>
              <div
                class="p-4 text-center flex flex-col items-center justify-center flex-1"
              >
                <p
                  class="font-body text-3xl font-semibold text-accent"
                >
                  にほんご
                </p>
                <p
                  class="text-muted-foreground mt-2 text-xl"
                >
                  Japanese language
                </p>
              </div>
              <div
                class="w-full p-2 flex justify-end"
              >
                <button
                  aria-label="Play pronunciation"
                  class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-9 w-9 text-muted-foreground hover:text-accent"
                >
                  <svg
                    class="lucide lucide-volume2 h-5 w-5"
                    fill="none"
                    height="24"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    viewBox="0 0 24 24"
                    width="24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"
                    />
                    <path
                      d="M16 9a5 5 0 0 1 0 6"
                    />
                    <path
                      d="M19.364 18.364a9 9 0 0 0 0-12.728"
                    />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      104 |       />
      105 |     );
    > 106 |     expect(screen.getByLabelText(`Edit ${mockWord.japanese}`)).toBeInTheDocument();
          |                   ^
      107 |     expect(screen.getByLabelText(`Remove ${mockWord.japanese}`)).toBeInTheDocument();
      108 |   });
      109 |   

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/flashcard.test.tsx:106:19)

PASS src/components/vocabulary-manager.test.tsx

Test Suites: 2 failed, 1 passed, 3 total
Tests:       4 failed, 8 passed, 12 total
Snapshots:   0 total
Time:        2.957 s
Ran all test suites.